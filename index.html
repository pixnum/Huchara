<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Huchara</title>
<style>
    body {
        background: #1a1a1a;
        color: #fff;
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        padding: 20px;
    }
    .app-frame {
        background: #2a2a2a;
        border-radius: 20px;
        box-shadow: inset 5px 5px 10px #1a1a1a,
                    inset -5px -5px 10px #333,
                    0 0 0 2px #444;
        padding: 20px;
        width: 100%;
        max-width: 500px;
        overflow-y: auto;
        max-height: 90vh;
        transition: box-shadow 0.4s ease-in-out;
    }
    .app-frame.glow {
        animation: frameGlow 1.5s infinite alternate;
    }
    @keyframes frameGlow {
        0% { box-shadow: inset 5px 5px 10px #1a1a1a,
                        inset -5px -5px 10px #333,
                        0 0 20px #4cafef; }
        100% { box-shadow: inset 5px 5px 10px #1a1a1a,
                          inset -5px -5px 10px #333,
                          0 0 40px #4cafef; }
    }
    h1 {
        text-align: center;
        margin-bottom: 20px;
    }
    input[type="file"] {
        display: block;
        margin: 0 auto 15px auto;
    }
    img {
        display: block;
        margin: 0 auto 20px auto;
        max-width: 100%;
        border-radius: 10px;
    }
    .buttons {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
    }
    button {
        padding: 10px 15px;
        border: none;
        border-radius: 10px;
        background: #3a3a3a;
        color: white;
        cursor: pointer;
        box-shadow: 3px 3px 6px #1a1a1a,
                    -3px -3px 6px #444;
    }
    button:hover {
        background: #4cafef;
    }
    .trait {
        margin-bottom: 10px;
    }
    .bar-container {
        background: #1a1a1a;
        border-radius: 10px;
        overflow: hidden;
        height: 20px;
        margin: 5px 0;
    }
    .bar {
        height: 100%;
        text-align: right;
        padding-right: 5px;
        line-height: 20px;
        color: #fff;
        transition: width 1s ease-in-out;
    }
    .bar.positive { background: #4caf50; }
    .bar.negative { background: #f44336; }
    .glow-top { box-shadow: 0 0 10px yellow; }
    .interpret-btn {
        font-size: 12px;
        margin-top: 2px;
        padding: 5px;
        background: #555;
    }
    .interpret-btn:hover { background: #777; }
    /* Modal */
    .modal {
        display: none;
        position: fixed;
        z-index: 999;
        left: 0; top: 0;
        width: 100%; height: 100%;
        overflow: auto;
        background: rgba(0,0,0,0.8);
        justify-content: center;
        align-items: center;
    }
    .modal-content {
        background: #2a2a2a;
        padding: 20px;
        border-radius: 10px;
        max-width: 400px;
        text-align: center;
    }
    .close { cursor: pointer; float: right; }
    /* Disclaimer */
    .disclaimer {
        margin-top: 20px;
        font-size: 12px;
        cursor: pointer;
    }
    .disclaimer-content {
        display: none;
        font-size: 12px;
        margin-top: 5px;
    }
    footer {
        margin-top: 20px;
        text-align: center;
        font-size: 12px;
        opacity: 0.6;
    }
</style>
</head>
<body>

<div class="app-frame" id="appFrame">
    <h1>Huchara</h1>
    <input type="file" id="imageUpload" accept="image/*">
    <img id="preview" src="" alt="Preview" style="display:none;">
    <div class="buttons">
        <button id="analyseBtn">Analyse</button>
        <button id="clearBtn">Clear</button>
    </div>
    <div id="results"></div>

    <div class="disclaimer">
        Disclaimer &#9660;
        <div class="disclaimer-content">
            This tool provides an offline, automated character analysis based on image patterns.
            It is for informational purposes only and should not replace professional psychological advice.
        </div>
    </div>

    <footer>© Huchara 2025</footer>
</div>

<!-- Modal -->
<div class="modal" id="modal">
    <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <p id="modalText"></p>
    </div>
</div>

<script>
const traits = [
    { name: "Honest", positive: true, desc: "Tells the truth and acts with integrity." },
    { name: "Compassionate", positive: true, desc: "Cares about others’ feelings and well-being." },
    { name: "Loyal", positive: true, desc: "Stays faithful and supportive to people or causes." },
    { name: "Responsible", positive: true, desc: "Takes ownership of actions and duties." },
    { name: "Optimistic", positive: true, desc: "Looks for the positive side in situations." },
    { name: "Patient", positive: true, desc: "Can wait calmly without frustration." },
    { name: "Generous", positive: true, desc: "Willingly shares time, resources, or help." },
    { name: "Courageous", positive: true, desc: "Faces challenges and fears bravely." },
    { name: "Selfish", positive: false, desc: "Prioritizes personal gain over others’ needs." },
    { name: "Impulsive", positive: false, desc: "Acts quickly without thinking of consequences." },
    { name: "Stubborn", positive: false, desc: "Unwilling to change opinion or behavior." },
    { name: "Dishonest", positive: false, desc: "Lies or hides the truth." },
    { name: "Pessimistic", positive: false, desc: "Always expects the worst outcome." },
    { name: "Jealous", positive: false, desc: "Feels resentful of others’ success or possessions." }
];

document.getElementById("imageUpload").addEventListener("change", function(e){
    const file = e.target.files[0];
    if(file){
        const reader = new FileReader();
        reader.onload = function(evt){
            const img = document.getElementById("preview");
            img.src = evt.target.result;
            img.style.display = "block";
        }
        reader.readAsDataURL(file);
    }
});

document.getElementById("analyseBtn").addEventListener("click", function(){
    const frame = document.getElementById("appFrame");
    frame.classList.add("glow");

    // Fake "analysis" with balanced random values
    setTimeout(()=>{
        frame.classList.remove("glow");
        const resultsDiv = document.getElementById("results");
        resultsDiv.innerHTML = "";
        let results = traits.map(t=>({
            ...t,
            value: Math.floor(Math.random() * 50) + (t.positive ? 50 : 0)
        }));
        results.sort((a,b)=>b.value-a.value);

        results.forEach((t, i)=>{
            const traitDiv = document.createElement("div");
            traitDiv.className = "trait";
            traitDiv.innerHTML = `<strong>${t.name} - ${t.value}%</strong>
                <div class="bar-container">
                    <div class="bar ${t.positive ? 'positive' : 'negative'} ${i<3?'glow-top':''}" style="width:${t.value}%"></div>
                </div>
                <button class="interpret-btn" data-desc="${t.desc}">View Interpretation</button>`;
            resultsDiv.appendChild(traitDiv);
        });

        document.querySelectorAll(".interpret-btn").forEach(btn=>{
            btn.addEventListener("click", function(){
                document.getElementById("modalText").innerText = this.getAttribute("data-desc");
                document.getElementById("modal").style.display = "flex";
            });
        });
    }, 1500);
});

document.getElementById("clearBtn").addEventListener("click", function(){
    document.getElementById("preview").style.display = "none";
    document.getElementById("preview").src = "";
    document.getElementById("results").innerHTML = "";
    document.getElementById("imageUpload").value = "";
});

document.getElementById("closeModal").addEventListener("click", function(){
    document.getElementById("modal").style.display = "none";
});
document.querySelector(".disclaimer").addEventListener("click", function(){
    const content = document.querySelector(".disclaimer-content");
    content.style.display = content.style.display === "block" ? "none" : "block";
});
</script>

</body>
</html>
